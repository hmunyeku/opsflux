# ============================================
# OPSFLUX - UPSTREAMS CONFIGURATION
# ============================================

# Backend Django API
upstream backend_api {
    server backend:8000 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

# Frontend React Application
upstream frontend_app {
    server frontend:3000 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

# Site Web Public (Vite)
upstream web_site {
    server web:3002 max_fails=3 fail_timeout=30s;
    keepalive 32;
}

# WebSocket (pour future utilisation)
upstream websocket {
    server backend:8000;
    keepalive 32;
}
